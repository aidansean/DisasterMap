<!DOCTYPE html>
<html>
<head>
    <title>Debbie's Disaster Map</title>
    <meta charset="utf-8" />

    <meta name="viewport" content="width=device-width*1.5, initial-scale=1.0">

    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
</head>
<body>
    <div id="map" style="width: 600px; height: 400px"></div>

    <script src="GrndMotion-10.js" type="text/javascript"></script>
    <script src="GrndMotion-08.js" type="text/javascript"></script>
    <script src="GrndMotion-06.js" type="text/javascript"></script>
    <script src="Hospitals.js" type="text/javascript"></script>
    <script src="DiveBars.js" type="text/javascript"></script>
    <script src="Tsunami.js" type="text/javascript"></script>
    <script src="Liquification.js" type="text/javascript"></script>
    <script src="TMobileMasts.js" type="text/javascript"></script>
    <script src="SprintMasts.js" type="text/javascript"></script>
    <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>

    <script>
        var map = L.map('map').setView([37.752, -122.4], 13);

        L.tileLayer('https://{s}.tiles.mapbox.com/v3/{id}/{z}/{x}/{y}.png', {
            maxZoom: 18,
            attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
                 
                'Imagery: Debbie Bard',
            id: 'examples.map-20v6611k'
        }).addTo(map);


        function onEachFeature(feature, layer) {
            var popupContent = "" <!--<p>Hurrah for Hacking!</p>"; -->
        
            if (feature.properties && feature.properties.popupContent) {
        popupContent += feature.properties.popupContent;
        }
        
        layer.bindPopup(popupContent);
        }
           
        L.geoJson([GrndAccnGT10,GrndAccnGT08,GrndAccnGT06, Liquifaction, Tsunami,SprintMasts,TMobileMasts], {

            style: function (feature) {
                return feature.properties && feature.properties.style;
            },

            onEachFeature: onEachFeature,

            pointToLayer: function (feature, latlng) {
                return L.circleMarker(latlng, {
                    radius: 2,
                    fillColor: "#00cc00",
                    color: "#000",
                    weight: 1,
                    opacity: 1,
                    fillOpacity: 0.8
                });
            }
        }).addTo(map);
    L.geoJson([DiveBars], {

            style: function (feature) {
                return feature.properties && feature.properties.style;
            },

            onEachFeature: onEachFeature,

            pointToLayer: function (feature, latlng) {
                return L.circleMarker(latlng, {
                    radius: 4,
                    fillColor: "#ff3300",
                    color: "#000",
                    weight: 1,
                    opacity: 1,
                    fillOpacity: 0.6
                });
            }
        }).addTo(map);

    L.geoJson([Hospitals], {

            style: function (feature) {
                return feature.properties && feature.properties.style;
            },

            onEachFeature: onEachFeature,

            pointToLayer: function (feature, latlng) {
                return L.circleMarker(latlng, {
                    radius: 6,
                    fillColor: "#ffff00",
                    color: "#000",
                    weight: 1,
                    opacity: 1,
                    fillOpacity: 0.6
                });
            }
        }).addTo(map);


    if(false){
        L.geoJson([GrndAccnGT09], {
            style: function (feature) { return feature.properties && feature.properties.style; },
            onEachFeature: onEachFeature,
            pointToLayer: function (feature, latlng) {
                return L.circleMarker(latlng, {
                    radius: 40,
                    fillColor: "#ff9966",
                    color: "#ff9966",
                    weight: 0.2,
                    opacity: 1,
                    fillOpacity: 0.2
                });
            }
        }).addTo(map);
    }

    L.geoJson([GrndAccnGT08], {

            style: function (feature) {
                return feature.properties && feature.properties.style;
            },

            onEachFeature: onEachFeature,

            pointToLayer: function (feature, latlng) {
                return L.circleMarker(latlng, {
                    radius: 40,
                    fillColor: "#ff9999",
                    color: "#ff9999",
                    weight: 0.2,
                    opacity: 1,
                    fillOpacity: 0.2
                });
            }
        }).addTo(map);



    </script>
</body>
</html>
